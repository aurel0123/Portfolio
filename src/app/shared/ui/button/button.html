@if (href) {
  <a
    class="btn"
    [class.btn--primary]="variant === 'primary'"
    [class.btn--secondary]="variant === 'secondary'"
    [class.btn--ghost]="variant === 'ghost'"
    [class.btn--danger]="variant === 'danger'"
    [class.btn--link]="variant === 'link'"
    [class.btn--sm]="size === 'sm'"
    [class.btn--md]="size === 'md'"
    [class.btn--lg]="size === 'lg'"
    [class.btn--full]="fullWidth"
    [class.is-loading]="loading"
    [class.is-disabled]="disabled || loading"
    [href]="href"
    [attr.target]="target"
    [attr.rel]="relAttr"
    role="button"
    [attr.aria-disabled]="(disabled || loading) ? 'true' : null"
    [attr.aria-busy]="loading ? 'true' : null"
    [attr.aria-label]="iconOnly ? ariaLabel : null"
    (click)="onClick($event)"
  >
    @if (loading) {
      <span class="btn__spinner" aria-hidden="true"></span>
      <span class="sr-only">Chargement…</span>
    }
    <ng-content select="[icon-left]"></ng-content>
    @if (!iconOnly) { <span class="btn__label"><ng-content></ng-content></span> }
    <ng-content select="[icon-right]"></ng-content>
  </a>
} @else {
  <button
    class="btn"
    [class.btn--primary]="variant === 'primary'"
    [class.btn--secondary]="variant === 'secondary'"
    [class.btn--ghost]="variant === 'ghost'"
    [class.btn--danger]="variant === 'danger'"
    [class.btn--link]="variant === 'link'"
    [class.btn--sm]="size === 'sm'"
    [class.btn--md]="size === 'md'"
    [class.btn--lg]="size === 'lg'"
    [class.btn--full]="fullWidth"
    [class.is-loading]="loading"
    [disabled]="disabled || loading"
    [attr.type]="type"
    [attr.aria-busy]="loading ? 'true' : null"
    [attr.aria-label]="iconOnly ? ariaLabel : null"
    (click)="onClick($event)"
  >
    @if (loading) {
      <span class="btn__spinner" aria-hidden="true"></span>
      <span class="sr-only">Chargement…</span>
    }
    <ng-content select="[icon-left]"></ng-content>
    @if (!iconOnly) { <span class="btn__label"><ng-content></ng-content></span> }
    <ng-content select="[icon-right]"></ng-content>
  </button>
}