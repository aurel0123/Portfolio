
<nav class="bg-[#190929] shadow-md fixed w-full z-40 nav-container ">
  <div class="max-w-6xl mx-auto flex justify-between items-center p-4 w-full relative z-50">
    <div class="box-image">
      <img ngSrc="assets/Logo/Logo.png" alt="Logo" width="36" height="36" priority />
    </div>
    <div class="flex items-center space-x-8">
      <ul class="flex space-x-16">
        <li class="nav-item">
          <a href="#" class="nav-link " data-page="home">{{ getTranslation('nav.home') }}</a>
        </li>
        <li class="nav-item">
          <a href="#services" class="nav-link " data-page="about">{{ getTranslation('nav.services') }}</a>
        </li>
        <li class="nav-item">
          <a href="#" class="nav-link " data-page="about">{{ getTranslation('nav.about') }}</a>
        </li>
        <li class="nav-item">
          <a href="#" class="nav-link " data-page="projects">{{ getTranslation('nav.projects') }}</a>
        </li>
        <li class="nav-item">
          <a href="#" class="nav-link " data-page="contact">{{ getTranslation('nav.contact') }}</a>
        </li>
      </ul>
      <div class="toggle relative">
        <button
          (click)="toggleLanguageDropdown()"
          class="language-toggle-btn flex items-center space-x-2 px-3 py-2 rounded-full bg-white/10 hover:bg-white/20 transition-all duration-300 border border-[#7127BA]"
          [class.active]="isLanguageDropdownOpen"
        >
          <span class="p-1 rounded-full border-2 border-[#7127BA]">
            <img [src]="currentLanguage.flag" [alt]="currentLanguage.name" width="18" height="18" />
          </span>
          <span class="language-code font-medium text-white hidden">{{ currentLanguage.code.toUpperCase() }}</span>
          <svg class="w-4 h-4 transition-transform duration-200" [class.rotate-180]="isLanguageDropdownOpen" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
          </svg>
        </button>
        <div class="language-dropdown absolute top-full right-0 mt-2 w-48 bg-shades-60 rounded-lg shadow-xl border border-gray-200 overflow-hidden transition-all duration-300 transform origin-top" [class.show]="isLanguageDropdownOpen">
            @for (language of availableLanguages; track language.code) {
            <button (click)="changeLangue(language)" class="language-option w-full px-4 py-3 text-left hover:bg-shades-40/5 transition-colors duration-200 flex items-center space-x-3">
                <span class="p-1 rounded-full border-2 border-[#7127BA]">
                    <img [src]="language.flag" [alt]="language.name" width="18" height="18" />
                </span>
                <div class="flex flex-col">
                <span class="font-medium text-white">{{ language.name }}</span>
                <span class="text-sm text-gray-300">{{ language.code.toUpperCase() }}</span>
                </div>
            </button>
            }
        </div>
        @if (isLanguageDropdownOpen) {
          <div class="fixed inset-0 z-[-1]" (click)="closeLanguageDropdown()"></div>
        }
      </div>
    </div>
  </div>
</nav>
